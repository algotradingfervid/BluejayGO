<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Edit Menu: Main Navigation - Bluejay CMS</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&family=JetBrains+Mono:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" rel="stylesheet">
    <link rel="stylesheet" href="../../components/main.css">
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="../../components/tailwind.config.js"></script>
</head>
<body class="bg-grid-white min-h-screen">
    <!-- Mobile Sidebar Overlay -->
    <div id="sidebarOverlay" class="fixed inset-0 bg-black bg-opacity-50 z-40 hidden lg:hidden" onclick="toggleSidebar()"></div>

    <div class="flex">
        <!-- Sidebar -->
        <aside id="sidebar" class="admin-sidebar-light fixed lg:sticky top-0 left-0 h-screen z-50 transform -translate-x-full lg:translate-x-0 transition-transform">
            <!-- Logo -->
            <div class="sidebar-logo">
                <div class="sidebar-logo-icon">
                    <span class="material-symbols-outlined">memory</span>
                </div>
                <span class="sidebar-logo-text">BLUEJAY</span>
            </div>

            <!-- Navigation -->
            <nav class="sidebar-nav">
                <div class="sidebar-section">
                    <div class="sidebar-section-title">Content</div>
                    <a href="../dashboard/index.html" class="sidebar-item">
                        <span class="material-symbols-outlined sidebar-item-icon">dashboard</span>
                        Dashboard
                    </a>
                    <a href="../homepage/index.html" class="sidebar-item">
                        <span class="material-symbols-outlined sidebar-item-icon">home</span>
                        Homepage
                    </a>
                    <a href="../products/list.html" class="sidebar-item">
                        <span class="material-symbols-outlined sidebar-item-icon">inventory_2</span>
                        Products
                    </a>
                    <a href="../solutions/list.html" class="sidebar-item">
                        <span class="material-symbols-outlined sidebar-item-icon">lightbulb</span>
                        Solutions
                    </a>
                    <a href="../blog/list.html" class="sidebar-item">
                        <span class="material-symbols-outlined sidebar-item-icon">article</span>
                        Blog
                    </a>
                    <a href="../case-studies/list.html" class="sidebar-item">
                        <span class="material-symbols-outlined sidebar-item-icon">cases</span>
                        Case Studies
                    </a>
                    <a href="../whitepapers/list.html" class="sidebar-item">
                        <span class="material-symbols-outlined sidebar-item-icon">menu_book</span>
                        Whitepapers
                    </a>
                </div>
                <div class="sidebar-section">
                    <div class="sidebar-section-title">Resources</div>
                    <a href="../partners/list.html" class="sidebar-item">
                        <span class="material-symbols-outlined sidebar-item-icon">handshake</span>
                        Partners
                    </a>
                    <a href="../testimonials/list.html" class="sidebar-item">
                        <span class="material-symbols-outlined sidebar-item-icon">format_quote</span>
                        Testimonials
                    </a>
                    <a href="../certifications/list.html" class="sidebar-item">
                        <span class="material-symbols-outlined sidebar-item-icon">verified</span>
                        Certifications
                    </a>
                </div>
                <div class="sidebar-section">
                    <div class="sidebar-section-title">Global Elements</div>
                    <a href="../header/index.html" class="sidebar-item">
                        <span class="material-symbols-outlined sidebar-item-icon">web_asset</span>
                        Header
                    </a>
                    <a href="../footer/index.html" class="sidebar-item">
                        <span class="material-symbols-outlined sidebar-item-icon">call_to_action</span>
                        Footer
                    </a>
                </div>
                <div class="sidebar-section">
                    <div class="sidebar-section-title">Admin</div>
                    <a href="../media/library.html" class="sidebar-item">
                        <span class="material-symbols-outlined sidebar-item-icon">perm_media</span>
                        Media
                    </a>
                    <a href="../forms/list.html" class="sidebar-item">
                        <span class="material-symbols-outlined sidebar-item-icon">mail</span>
                        Forms
                        <span class="sidebar-item-badge">3</span>
                    </a>
                    <a href="../navigation/list.html" class="sidebar-item active">
                        <span class="material-symbols-outlined sidebar-item-icon">menu</span>
                        Navigation
                    </a>
                    <a href="../users/list.html" class="sidebar-item">
                        <span class="material-symbols-outlined sidebar-item-icon">group</span>
                        Users
                    </a>
                    <a href="../settings/index.html" class="sidebar-item">
                        <span class="material-symbols-outlined sidebar-item-icon">settings</span>
                        Settings
                    </a>
                </div>
            </nav>

            <!-- User Footer -->
            <div class="sidebar-footer">
                <div class="sidebar-user">
                    <div class="sidebar-user-avatar">JS</div>
                    <div class="sidebar-user-info">
                        <div class="sidebar-user-name">John Smith</div>
                        <div class="sidebar-user-role">Administrator</div>
                    </div>
                </div>
            </div>

            <!-- Close Button (Mobile) -->
            <button onclick="toggleSidebar()" class="absolute top-4 right-4 p-2 lg:hidden manual-border bg-white hover:bg-[var(--color-background-light)]">
                <span class="material-symbols-outlined">close</span>
            </button>
        </aside>

        <!-- Main Content Area -->
        <div class="flex-1 min-h-screen">
            <!-- Top Navigation Bar -->
            <header class="h-16 bg-white manual-border-thick border-t-0 border-l-0 border-r-0 flex items-center justify-between px-4 lg:px-8 sticky top-0 z-30">
                <!-- Left side - Hamburger (mobile) -->
                <div class="flex items-center gap-4">
                    <button onclick="toggleSidebar()" class="p-2 manual-border hover:bg-[var(--color-background-light)] lg:hidden">
                        <span class="material-symbols-outlined">menu</span>
                    </button>
                    <span class="font-display font-extrabold uppercase lg:hidden">BLUEJAY</span>
                </div>

                <!-- Right side - Actions -->
                <div class="flex items-center gap-2">
                    <button class="p-2 manual-border bg-white hover:bg-[var(--color-primary)] hover:text-white">
                        <span class="material-symbols-outlined">help</span>
                    </button>
                    <button class="p-2 manual-border bg-white hover:bg-[var(--color-primary)] hover:text-white relative">
                        <span class="material-symbols-outlined">notifications</span>
                        <span class="absolute -top-1 -right-1 w-4 h-4 bg-[var(--color-warning)] text-black text-[10px] font-bold flex items-center justify-center manual-border">3</span>
                    </button>
                </div>
            </header>

        <!-- Main Content -->
        <main class="p-4 md:p-6 lg:p-8">
            <!-- Breadcrumb / Back Link -->
            <div class="mb-4">
                <a href="list.html" class="inline-flex items-center gap-1 text-sm font-mono text-blue-600 hover:underline uppercase">
                    <span class="material-symbols-outlined text-lg">arrow_back</span>
                    Back to Navigation Menus
                </a>
            </div>

            <!-- Page Header -->
            <div class="content-card p-6 mb-6">
                <div class="flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4">
                    <div>
                        <h1 id="pageTitle" class="page-header-title">Edit Menu: Main Navigation</h1>
                        <p id="menuSlug" class="text-sm font-mono text-gray-600 mt-1">Slug: <code class="bg-gray-100 px-2 py-0.5 manual-border text-xs">header</code></p>
                    </div>
                    <div class="flex items-center gap-3">
                        <button onclick="openPreview()" class="btn btn-secondary">
                            <span class="material-symbols-outlined text-xl">visibility</span>
                            Preview
                        </button>
                        <button onclick="saveMenu()" class="btn btn-primary">
                            <span class="material-symbols-outlined text-xl">save</span>
                            Save Menu
                        </button>
                    </div>
                </div>
            </div>

            <!-- Two Column Layout -->
            <div class="grid grid-cols-1 lg:grid-cols-12 gap-6">
                <!-- Left Column - Add Menu Items -->
                <div class="lg:col-span-4 space-y-6">
                    <!-- Menu Settings Card -->
                    <div class="content-card">
                        <div class="content-card-header">
                            <h2 class="content-card-title">Menu Settings</h2>
                        </div>
                        <div class="content-card-body space-y-4">
                            <div class="form-field">
                                <label class="form-label">Menu Name</label>
                                <input type="text" id="menuNameInput" value="Main Navigation" class="form-input">
                            </div>
                            <div class="form-field">
                                <label class="form-label">Location</label>
                                <select id="menuLocationSelect" class="form-select">
                                    <option value="header" selected>Header</option>
                                    <option value="footer">Footer</option>
                                    <option value="footer-bottom">Footer Bottom</option>
                                    <option value="mobile">Mobile</option>
                                    <option value="custom">Custom</option>
                                </select>
                            </div>
                            <div class="form-field">
                                <label class="form-label">Description</label>
                                <textarea id="menuDescriptionInput" rows="2" placeholder="Optional description..." class="form-input resize-none">Primary site navigation displayed in header</textarea>
                            </div>
                        </div>
                    </div>

                    <!-- Add Menu Items Card -->
                    <div class="content-card">
                        <div class="content-card-header">
                            <h2 class="content-card-title">Add Menu Items</h2>
                        </div>
                        <div class="content-card-body space-y-4">
                            <!-- Add Page Link -->
                            <div class="manual-border p-4">
                                <h3 class="text-sm font-mono font-bold text-gray-900 mb-3 uppercase">Add Page Link</h3>
                                <div class="space-y-3">
                                    <div>
                                        <label class="form-label text-xs">Select Page:</label>
                                        <select id="pageSelect" class="form-select form-input-sm">
                                            <option value="">Select a page...</option>
                                            <option value="/">Home</option>
                                            <option value="/about">About Us</option>
                                            <option value="/products">Products</option>
                                            <option value="/products/hardware">-- Hardware</option>
                                            <option value="/products/software">-- Software</option>
                                            <option value="/products/services">-- Services</option>
                                            <option value="/solutions">Solutions</option>
                                            <option value="/blog">Blog</option>
                                            <option value="/case-studies">Case Studies</option>
                                            <option value="/contact">Contact</option>
                                            <option value="/privacy">Privacy Policy</option>
                                            <option value="/terms">Terms of Service</option>
                                        </select>
                                    </div>
                                    <button onclick="addPageLink()" class="btn btn-secondary w-full border-dashed">
                                        <span class="material-symbols-outlined text-lg">add</span>
                                        Add Page Link
                                    </button>
                                </div>
                            </div>

                            <!-- Add Custom Link -->
                            <div class="manual-border p-4">
                                <h3 class="text-sm font-mono font-bold text-gray-900 mb-3 uppercase">Add Custom Link</h3>
                                <div class="space-y-3">
                                    <div>
                                        <label class="form-label text-xs">Label:</label>
                                        <input type="text" id="customLabel" placeholder="Link Label" class="form-input form-input-sm">
                                    </div>
                                    <div>
                                        <label class="form-label text-xs">URL:</label>
                                        <input type="text" id="customUrl" placeholder="https://" class="form-input form-input-sm">
                                    </div>
                                    <button onclick="addCustomLink()" class="btn btn-secondary w-full border-dashed">
                                        <span class="material-symbols-outlined text-lg">add</span>
                                        Add Custom Link
                                    </button>
                                </div>
                            </div>

                            <!-- Add Dropdown -->
                            <div class="manual-border p-4">
                                <h3 class="text-sm font-mono font-bold text-gray-900 mb-3 uppercase">Add Dropdown</h3>
                                <p class="text-xs font-mono text-gray-600 mb-3">Create an empty dropdown container for nested items</p>
                                <div class="space-y-3">
                                    <div>
                                        <label class="form-label text-xs">Dropdown Label:</label>
                                        <input type="text" id="dropdownLabel" placeholder="Dropdown Label" class="form-input form-input-sm">
                                    </div>
                                    <button onclick="addDropdown()" class="btn btn-secondary w-full border-dashed">
                                        <span class="material-symbols-outlined text-lg">add</span>
                                        Add Dropdown
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Right Column - Menu Structure -->
                <div class="lg:col-span-8 space-y-6">
                    <!-- Menu Structure Card -->
                    <div class="content-card">
                        <div class="content-card-header">
                            <h2 class="content-card-title">Menu Structure</h2>
                            <p class="text-xs font-mono text-gray-600">Drag items to reorder. Drag right to create sub-items.</p>
                        </div>
                        <div class="content-card-body">
                            <div id="menuStructure" class="space-y-2">
                                <!-- Menu Item - Home -->
                                <div class="menu-item bg-gray-50 manual-border" draggable="true">
                                    <div class="flex items-center gap-3 p-4">
                                        <span class="material-symbols-outlined text-gray-500 cursor-grab">drag_indicator</span>
                                        <div class="flex-1 min-w-0">
                                            <div class="flex items-center gap-2">
                                                <span class="font-mono font-bold text-gray-900">Home</span>
                                                <span class="inline-flex items-center px-2 py-0.5 text-xs font-mono font-bold bg-blue-100 text-blue-600 manual-border">Page</span>
                                            </div>
                                            <span class="text-xs font-mono text-gray-600">/</span>
                                        </div>
                                        <div class="flex items-center gap-1">
                                            <button onclick="editMenuItem('home')" class="p-1.5 hover:bg-gray-200 text-gray-500 hover:text-blue-600" title="Edit">
                                                <span class="material-symbols-outlined text-lg">edit</span>
                                            </button>
                                            <button onclick="deleteMenuItem('home')" class="p-1.5 hover:bg-gray-200 text-gray-500 hover:text-red-600" title="Delete">
                                                <span class="material-symbols-outlined text-lg">delete</span>
                                            </button>
                                        </div>
                                    </div>
                                </div>

                                <!-- Drop Zone Placeholder -->
                                <div class="drop-zone h-1 bg-blue-600 opacity-0"></div>

                                <!-- Menu Item - Products (Dropdown with children) -->
                                <div class="menu-item bg-gray-50 manual-border" draggable="true">
                                    <div class="flex items-center gap-3 p-4">
                                        <span class="material-symbols-outlined text-gray-500 cursor-grab">drag_indicator</span>
                                        <div class="flex-1 min-w-0">
                                            <div class="flex items-center gap-2">
                                                <span class="font-mono font-bold text-gray-900">Products</span>
                                                <span class="inline-flex items-center px-2 py-0.5 text-xs font-mono font-bold bg-purple-100 text-purple-700 manual-border">Dropdown</span>
                                            </div>
                                        </div>
                                        <div class="flex items-center gap-1">
                                            <button onclick="toggleChildren('products')" class="p-1.5 hover:bg-gray-200 text-gray-500 hover:text-blue-600" title="Expand/Collapse">
                                                <span class="material-symbols-outlined text-lg" id="productsToggle">expand_more</span>
                                            </button>
                                            <button onclick="editMenuItem('products')" class="p-1.5 hover:bg-gray-200 text-gray-500 hover:text-blue-600" title="Edit">
                                                <span class="material-symbols-outlined text-lg">edit</span>
                                            </button>
                                            <button onclick="deleteMenuItem('products')" class="p-1.5 hover:bg-gray-200 text-gray-500 hover:text-red-600" title="Delete">
                                                <span class="material-symbols-outlined text-lg">delete</span>
                                            </button>
                                        </div>
                                    </div>

                                    <!-- Nested Children -->
                                    <div id="productsChildren" class="pb-2 px-2">
                                        <!-- Child - Hardware -->
                                        <div class="menu-item bg-white manual-border ml-6 mb-2 border-l-4 border-l-gray-300" draggable="true">
                                            <div class="flex items-center gap-3 p-3">
                                                <span class="material-symbols-outlined text-gray-500 cursor-grab text-lg">drag_indicator</span>
                                                <div class="flex-1 min-w-0">
                                                    <div class="flex items-center gap-2">
                                                        <span class="font-mono font-bold text-gray-900 text-sm">Hardware</span>
                                                        <span class="inline-flex items-center px-2 py-0.5 text-xs font-mono font-bold bg-blue-100 text-blue-600 manual-border">Page</span>
                                                    </div>
                                                    <span class="text-xs font-mono text-gray-600">/products/hardware</span>
                                                </div>
                                                <div class="flex items-center gap-1">
                                                    <button onclick="editMenuItem('hardware')" class="p-1 hover:bg-gray-100 text-gray-500 hover:text-blue-600" title="Edit">
                                                        <span class="material-symbols-outlined text-base">edit</span>
                                                    </button>
                                                    <button onclick="deleteMenuItem('hardware')" class="p-1 hover:bg-gray-100 text-gray-500 hover:text-red-600" title="Delete">
                                                        <span class="material-symbols-outlined text-base">delete</span>
                                                    </button>
                                                </div>
                                            </div>
                                        </div>

                                        <!-- Child - Software -->
                                        <div class="menu-item bg-white manual-border ml-6 mb-2 border-l-4 border-l-gray-300" draggable="true">
                                            <div class="flex items-center gap-3 p-3">
                                                <span class="material-symbols-outlined text-gray-500 cursor-grab text-lg">drag_indicator</span>
                                                <div class="flex-1 min-w-0">
                                                    <div class="flex items-center gap-2">
                                                        <span class="font-mono font-bold text-gray-900 text-sm">Software</span>
                                                        <span class="inline-flex items-center px-2 py-0.5 text-xs font-mono font-bold bg-blue-100 text-blue-600 manual-border">Page</span>
                                                    </div>
                                                    <span class="text-xs font-mono text-gray-600">/products/software</span>
                                                </div>
                                                <div class="flex items-center gap-1">
                                                    <button onclick="editMenuItem('software')" class="p-1 hover:bg-gray-100 text-gray-500 hover:text-blue-600" title="Edit">
                                                        <span class="material-symbols-outlined text-base">edit</span>
                                                    </button>
                                                    <button onclick="deleteMenuItem('software')" class="p-1 hover:bg-gray-100 text-gray-500 hover:text-red-600" title="Delete">
                                                        <span class="material-symbols-outlined text-base">delete</span>
                                                    </button>
                                                </div>
                                            </div>
                                        </div>

                                        <!-- Child - Services -->
                                        <div class="menu-item bg-white manual-border ml-6 border-l-4 border-l-gray-300" draggable="true">
                                            <div class="flex items-center gap-3 p-3">
                                                <span class="material-symbols-outlined text-gray-500 cursor-grab text-lg">drag_indicator</span>
                                                <div class="flex-1 min-w-0">
                                                    <div class="flex items-center gap-2">
                                                        <span class="font-mono font-bold text-gray-900 text-sm">Services</span>
                                                        <span class="inline-flex items-center px-2 py-0.5 text-xs font-mono font-bold bg-blue-100 text-blue-600 manual-border">Page</span>
                                                    </div>
                                                    <span class="text-xs font-mono text-gray-600">/products/services</span>
                                                </div>
                                                <div class="flex items-center gap-1">
                                                    <button onclick="editMenuItem('services')" class="p-1 hover:bg-gray-100 text-gray-500 hover:text-blue-600" title="Edit">
                                                        <span class="material-symbols-outlined text-base">edit</span>
                                                    </button>
                                                    <button onclick="deleteMenuItem('services')" class="p-1 hover:bg-gray-100 text-gray-500 hover:text-red-600" title="Delete">
                                                        <span class="material-symbols-outlined text-base">delete</span>
                                                    </button>
                                                </div>
                                            </div>
                                        </div>

                                        <!-- Nested drop zone -->
                                        <div class="hidden mt-2 text-center text-xs font-mono text-blue-600 p-3 border-2 border-dashed border-blue-600 bg-blue-50 ml-6">
                                            <span class="material-symbols-outlined text-lg align-middle">add</span>
                                            Drop here to nest under Products
                                        </div>
                                    </div>
                                </div>

                                <!-- Drop Zone Placeholder -->
                                <div class="drop-zone h-1 bg-blue-600 opacity-0"></div>

                                <!-- Menu Item - Solutions -->
                                <div class="menu-item bg-gray-50 manual-border" draggable="true">
                                    <div class="flex items-center gap-3 p-4">
                                        <span class="material-symbols-outlined text-gray-500 cursor-grab">drag_indicator</span>
                                        <div class="flex-1 min-w-0">
                                            <div class="flex items-center gap-2">
                                                <span class="font-mono font-bold text-gray-900">Solutions</span>
                                                <span class="inline-flex items-center px-2 py-0.5 text-xs font-mono font-bold bg-blue-100 text-blue-600 manual-border">Page</span>
                                            </div>
                                            <span class="text-xs font-mono text-gray-600">/solutions</span>
                                        </div>
                                        <div class="flex items-center gap-1">
                                            <button onclick="editMenuItem('solutions')" class="p-1.5 hover:bg-gray-200 text-gray-500 hover:text-blue-600" title="Edit">
                                                <span class="material-symbols-outlined text-lg">edit</span>
                                            </button>
                                            <button onclick="deleteMenuItem('solutions')" class="p-1.5 hover:bg-gray-200 text-gray-500 hover:text-red-600" title="Delete">
                                                <span class="material-symbols-outlined text-lg">delete</span>
                                            </button>
                                        </div>
                                    </div>
                                </div>

                                <!-- Drop Zone Placeholder -->
                                <div class="drop-zone h-1 bg-blue-600 opacity-0"></div>

                                <!-- Menu Item - Blog -->
                                <div class="menu-item bg-gray-50 manual-border" draggable="true">
                                    <div class="flex items-center gap-3 p-4">
                                        <span class="material-symbols-outlined text-gray-500 cursor-grab">drag_indicator</span>
                                        <div class="flex-1 min-w-0">
                                            <div class="flex items-center gap-2">
                                                <span class="font-mono font-bold text-gray-900">Blog</span>
                                                <span class="inline-flex items-center px-2 py-0.5 text-xs font-mono font-bold bg-blue-100 text-blue-600 manual-border">Page</span>
                                            </div>
                                            <span class="text-xs font-mono text-gray-600">/blog</span>
                                        </div>
                                        <div class="flex items-center gap-1">
                                            <button onclick="editMenuItem('blog')" class="p-1.5 hover:bg-gray-200 text-gray-500 hover:text-blue-600" title="Edit">
                                                <span class="material-symbols-outlined text-lg">edit</span>
                                            </button>
                                            <button onclick="deleteMenuItem('blog')" class="p-1.5 hover:bg-gray-200 text-gray-500 hover:text-red-600" title="Delete">
                                                <span class="material-symbols-outlined text-lg">delete</span>
                                            </button>
                                        </div>
                                    </div>
                                </div>

                                <!-- Drop Zone Placeholder -->
                                <div class="drop-zone h-1 bg-blue-600 opacity-0"></div>

                                <!-- Menu Item - Contact (Custom Link) -->
                                <div class="menu-item bg-gray-50 manual-border" draggable="true">
                                    <div class="flex items-center gap-3 p-4">
                                        <span class="material-symbols-outlined text-gray-500 cursor-grab">drag_indicator</span>
                                        <div class="flex-1 min-w-0">
                                            <div class="flex items-center gap-2">
                                                <span class="font-mono font-bold text-gray-900">Contact</span>
                                                <span class="inline-flex items-center px-2 py-0.5 text-xs font-mono font-bold bg-green-100 text-green-700 manual-border">Custom</span>
                                            </div>
                                            <span class="text-xs font-mono text-gray-600">/contact</span>
                                        </div>
                                        <div class="flex items-center gap-1">
                                            <button onclick="editMenuItem('contact')" class="p-1.5 hover:bg-gray-200 text-gray-500 hover:text-blue-600" title="Edit">
                                                <span class="material-symbols-outlined text-lg">edit</span>
                                            </button>
                                            <button onclick="deleteMenuItem('contact')" class="p-1.5 hover:bg-gray-200 text-gray-500 hover:text-red-600" title="Delete">
                                                <span class="material-symbols-outlined text-lg">delete</span>
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Add Menu Item Button -->
                            <button onclick="openAddItemModal()" class="btn btn-secondary w-full mt-4 border-dashed">
                                <span class="material-symbols-outlined">add</span>
                                Add Menu Item
                            </button>
                        </div>
                    </div>

                    <!-- Live Preview -->
                    <div class="content-card">
                        <div class="content-card-header">
                            <h2 class="content-card-title">Live Preview</h2>
                        </div>
                        <div class="content-card-body">
                            <div id="livePreviewContainer">
                                <!-- Preview content generated dynamically -->
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>
        </div>
    </div>

    <!-- Edit Menu Item Modal -->
    <div id="editModal" class="modal-brutalist hidden">
        <div class="modal-brutalist-backdrop" onclick="closeEditModal()"></div>
        <div class="modal-brutalist-content">
            <!-- Modal Header -->
            <div class="modal-brutalist-header">
                <h2 class="modal-brutalist-title">Edit Menu Item</h2>
                <button onclick="closeEditModal()" class="modal-brutalist-close">
                    <span class="material-symbols-outlined">close</span>
                </button>
            </div>

            <!-- Modal Body -->
            <div class="modal-brutalist-body space-y-5">
                <!-- Label -->
                <div class="form-field">
                    <label class="form-label form-label-required">Label</label>
                    <input type="text" id="editLabel" value="Products" class="form-input">
                    <p class="form-help">Text displayed in the navigation</p>
                </div>

                <!-- Link Type -->
                <div class="form-field">
                    <label class="form-label">Link Type</label>
                    <div class="grid grid-cols-3 gap-3">
                        <label class="manual-border p-3 cursor-pointer text-center bg-blue-50 border-blue-600" onclick="selectLinkType('page')">
                            <input type="radio" name="linkType" value="page" class="sr-only" checked>
                            <span class="material-symbols-outlined text-blue-600 mb-1">article</span>
                            <span class="block text-sm font-mono font-bold text-gray-900">Page Link</span>
                        </label>
                        <label class="manual-border p-3 cursor-pointer text-center hover:bg-gray-50" onclick="selectLinkType('custom')">
                            <input type="radio" name="linkType" value="custom" class="sr-only">
                            <span class="material-symbols-outlined text-gray-500 mb-1">link</span>
                            <span class="block text-sm font-mono font-bold text-gray-900">Custom URL</span>
                        </label>
                        <label class="manual-border p-3 cursor-pointer text-center hover:bg-gray-50" onclick="selectLinkType('dropdown')">
                            <input type="radio" name="linkType" value="dropdown" class="sr-only">
                            <span class="material-symbols-outlined text-gray-500 mb-1">expand_more</span>
                            <span class="block text-sm font-mono font-bold text-gray-900">Dropdown</span>
                        </label>
                    </div>
                </div>

                <!-- Conditional Fields -->
                <div id="pageField" class="form-field">
                    <label class="form-label form-label-required">Select Page</label>
                    <select id="editPage" class="form-select">
                        <option value="">Select a page...</option>
                        <option value="/">Home</option>
                        <option value="/about">About Us</option>
                        <option value="/products" selected>Products</option>
                        <option value="/products/hardware">Hardware</option>
                        <option value="/products/software">Software</option>
                        <option value="/products/services">Services</option>
                        <option value="/solutions">Solutions</option>
                        <option value="/blog">Blog</option>
                        <option value="/case-studies">Case Studies</option>
                        <option value="/contact">Contact</option>
                    </select>
                </div>

                <div id="urlField" class="form-field hidden">
                    <label class="form-label form-label-required">URL</label>
                    <input type="url" id="editUrl" placeholder="https://external-site.com/page" class="form-input">
                    <p class="form-help">Enter full URL including https://</p>
                </div>

                <div id="dropdownInfo" class="hidden">
                    <div class="flex items-start gap-3 p-4 bg-blue-50 manual-border border-blue-600">
                        <span class="material-symbols-outlined text-blue-600 flex-shrink-0">info</span>
                        <p class="text-sm font-mono text-gray-600">This item will not link anywhere - it will only open a dropdown menu containing its child items.</p>
                    </div>
                </div>

                <!-- Icon and Open In Row -->
                <div class="grid grid-cols-2 gap-4">
                    <div class="form-field">
                        <label class="form-label">Icon (Optional)</label>
                        <select id="editIcon" class="form-select">
                            <option value="">None</option>
                            <option value="home">Home</option>
                            <option value="inventory_2">Package</option>
                            <option value="lightbulb">Lightbulb</option>
                            <option value="article">Document</option>
                            <option value="mail">Email</option>
                            <option value="phone">Phone</option>
                            <option value="link">Link</option>
                            <option value="settings">Settings</option>
                            <option value="bar_chart">Chart</option>
                            <option value="person">User</option>
                            <option value="search">Search</option>
                            <option value="arrow_forward">Arrow Right</option>
                            <option value="open_in_new">External Link</option>
                        </select>
                        <p class="form-help">Icon before label</p>
                    </div>
                    <div class="form-field">
                        <label class="form-label">Open In</label>
                        <select id="editTarget" class="form-select">
                            <option value="_self">Same Tab</option>
                            <option value="_blank">New Tab</option>
                        </select>
                    </div>
                </div>

                <!-- Status Toggle -->
                <div class="manual-border p-4">
                    <div class="flex items-center justify-between">
                        <div>
                            <span class="text-sm font-mono font-bold text-gray-900">Is Active</span>
                            <p class="text-xs font-mono text-gray-500 mt-0.5">When disabled, this item won't appear in navigation</p>
                        </div>
                        <label class="toggle-switch">
                            <input type="checkbox" id="statusToggle" checked>
                            <span class="toggle-switch-track">
                                <span class="toggle-switch-thumb"></span>
                            </span>
                        </label>
                    </div>
                </div>
            </div>

            <!-- Modal Footer -->
            <div class="modal-brutalist-footer">
                <button onclick="closeEditModal()" class="btn btn-secondary">
                    Cancel
                </button>
                <button onclick="saveMenuItem()" class="btn btn-primary">
                    Save Changes
                </button>
            </div>
        </div>
    </div>

    <!-- Delete Confirmation Modal -->
    <div id="deleteModal" class="modal-brutalist hidden">
        <div class="modal-brutalist-backdrop" onclick="closeDeleteModal()"></div>
        <div class="modal-brutalist-content max-w-md">
            <!-- Modal Header -->
            <div class="modal-brutalist-header">
                <h2 class="modal-brutalist-title">Delete Menu Item</h2>
                <button onclick="closeDeleteModal()" class="modal-brutalist-close">
                    <span class="material-symbols-outlined">close</span>
                </button>
            </div>

            <!-- Modal Body -->
            <div class="modal-brutalist-body">
                <div class="flex items-start gap-4">
                    <div class="w-12 h-12 bg-red-100 flex items-center justify-center flex-shrink-0 manual-border border-red-600">
                        <span class="material-symbols-outlined text-red-600 text-2xl">warning</span>
                    </div>
                    <div>
                        <p class="font-mono text-gray-900">Are you sure you want to delete this menu item?</p>
                        <p class="text-sm font-mono text-gray-600 mt-2">If this item has children, they will also be removed.</p>
                    </div>
                </div>
            </div>

            <!-- Modal Footer -->
            <div class="modal-brutalist-footer">
                <button onclick="closeDeleteModal()" class="btn btn-secondary">
                    Cancel
                </button>
                <button onclick="confirmDeleteItem()" class="btn btn-primary bg-red-600 hover:bg-red-700">
                    Delete Item
                </button>
            </div>
        </div>
    </div>

    <!-- Preview Modal -->
    <div id="previewModal" class="modal-brutalist hidden">
        <div class="modal-brutalist-backdrop" onclick="closePreview()"></div>
        <div class="modal-brutalist-content max-w-4xl">
            <!-- Modal Header -->
            <div class="modal-brutalist-header">
                <h2 class="modal-brutalist-title">Navigation Preview</h2>
                <button onclick="closePreview()" class="modal-brutalist-close">
                    <span class="material-symbols-outlined">close</span>
                </button>
            </div>

            <!-- Modal Body -->
            <div class="modal-brutalist-body">
                <div class="manual-border overflow-hidden">
                    <!-- Desktop Preview -->
                    <div class="bg-gray-900 p-4">
                        <div class="flex items-center justify-between max-w-6xl mx-auto">
                            <div class="flex items-center gap-3">
                                <div class="w-10 h-10 bg-blue-600 flex items-center justify-center manual-border">
                                    <span class="material-symbols-outlined text-white">flutter_dash</span>
                                </div>
                                <span class="text-white font-mono font-bold text-lg">Bluejay Labs</span>
                            </div>
                            <nav class="flex items-center gap-8">
                                <a href="#" class="text-white font-mono hover:text-blue-400">Home</a>
                                <div class="relative group">
                                    <button class="text-white font-mono hover:text-blue-400 flex items-center gap-1">
                                        Products
                                        <span class="material-symbols-outlined text-sm">expand_more</span>
                                    </button>
                                    <div class="absolute top-full left-0 mt-2 bg-white manual-shadow py-2 min-w-[180px] opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all">
                                        <a href="#" class="block px-4 py-2 font-mono text-gray-900 hover:bg-gray-100">Hardware</a>
                                        <a href="#" class="block px-4 py-2 font-mono text-gray-900 hover:bg-gray-100">Software</a>
                                        <a href="#" class="block px-4 py-2 font-mono text-gray-900 hover:bg-gray-100">Services</a>
                                    </div>
                                </div>
                                <a href="#" class="text-white font-mono hover:text-blue-400">Solutions</a>
                                <a href="#" class="text-white font-mono hover:text-blue-400">Blog</a>
                                <a href="#" class="text-white font-mono hover:text-blue-400">Contact</a>
                            </nav>
                        </div>
                    </div>
                </div>
                <p class="text-sm font-mono text-gray-600 text-center mt-4">Hover over "Products" to see the dropdown menu</p>
            </div>

            <!-- Modal Footer -->
            <div class="modal-brutalist-footer">
                <button onclick="closePreview()" class="btn btn-primary">
                    Close Preview
                </button>
            </div>
        </div>
    </div>

    <script>
        // Menu configurations for different menu types
        const MENU_CONFIGS = {
            'header': {
                name: 'Main Navigation',
                location: 'Header',
                description: 'Primary site navigation displayed in header',
                items: [
                    { id: 'home', label: 'Home', type: 'page', url: '/' },
                    { id: 'products', label: 'Products', type: 'dropdown', children: [
                        { id: 'hardware', label: 'Hardware', type: 'page', url: '/products/hardware' },
                        { id: 'software', label: 'Software', type: 'page', url: '/products/software' },
                        { id: 'services', label: 'Services', type: 'page', url: '/products/services' }
                    ]},
                    { id: 'solutions', label: 'Solutions', type: 'page', url: '/solutions' },
                    { id: 'blog', label: 'Blog', type: 'page', url: '/blog' },
                    { id: 'about', label: 'About', type: 'page', url: '/about' },
                    { id: 'contact', label: 'Contact', type: 'custom', url: '/contact' }
                ]
            },
            'footer': {
                name: 'Footer Links',
                location: 'Footer',
                description: 'Navigation links displayed in the footer',
                items: [
                    { id: 'home', label: 'Home', type: 'page', url: '/' },
                    { id: 'about', label: 'About Us', type: 'page', url: '/about' },
                    { id: 'products', label: 'Products', type: 'page', url: '/products' },
                    { id: 'solutions', label: 'Solutions', type: 'page', url: '/solutions' },
                    { id: 'blog', label: 'Blog', type: 'page', url: '/blog' },
                    { id: 'contact', label: 'Contact', type: 'page', url: '/contact' },
                    { id: 'support', label: 'Support', type: 'page', url: '/support' },
                    { id: 'faq', label: 'FAQ', type: 'page', url: '/faq' }
                ]
            },
            'footer-legal': {
                name: 'Footer Legal',
                location: 'Footer Bottom',
                description: 'Legal links displayed at the bottom of the footer',
                items: [
                    { id: 'privacy', label: 'Privacy Policy', type: 'page', url: '/privacy' },
                    { id: 'terms', label: 'Terms of Service', type: 'page', url: '/terms' },
                    { id: 'cookies', label: 'Cookie Policy', type: 'page', url: '/cookies' }
                ]
            },
            'mobile': {
                name: 'Mobile Menu',
                location: 'Mobile',
                description: 'Navigation menu for mobile devices',
                items: [
                    { id: 'home', label: 'Home', type: 'page', url: '/' },
                    { id: 'products', label: 'Products', type: 'page', url: '/products' },
                    { id: 'solutions', label: 'Solutions', type: 'page', url: '/solutions' },
                    { id: 'blog', label: 'Blog', type: 'page', url: '/blog' },
                    { id: 'contact', label: 'Contact', type: 'page', url: '/contact' }
                ]
            },
            'products-sidebar': {
                name: 'Products Sidebar',
                location: 'Custom',
                description: 'Sidebar navigation for products section',
                items: [
                    { id: 'all', label: 'All Products', type: 'page', url: '/products' },
                    { id: 'hardware', label: 'Hardware', type: 'page', url: '/products/hardware' },
                    { id: 'software', label: 'Software', type: 'page', url: '/products/software' },
                    { id: 'services', label: 'Services', type: 'page', url: '/products/services' }
                ]
            }
        };

        let currentMenu = 'header';

        // Initialize editor based on URL parameter
        function initializeEditor() {
            const urlParams = new URLSearchParams(window.location.search);
            const menuType = urlParams.get('menu') || 'header';

            if (MENU_CONFIGS[menuType]) {
                currentMenu = menuType;
            }

            updatePageTitle();
            updateMenuSettings();
            updateMenuStructure();
            updateLivePreview();
        }

        function updatePageTitle() {
            const config = MENU_CONFIGS[currentMenu];
            document.title = `Edit Menu: ${config.name} - Bluejay CMS`;
            document.getElementById('pageTitle').textContent = `Edit Menu: ${config.name}`;
            document.getElementById('menuSlug').innerHTML = `Slug: <code class="bg-gray-100 px-2 py-0.5 manual-border text-xs">${currentMenu}</code>`;
        }

        function updateMenuSettings() {
            const config = MENU_CONFIGS[currentMenu];
            document.getElementById('menuNameInput').value = config.name;
            document.getElementById('menuLocationSelect').value = config.location === 'Header' ? 'header' :
                config.location === 'Footer' ? 'footer' :
                config.location === 'Footer Bottom' ? 'footer-bottom' :
                config.location === 'Mobile' ? 'mobile' : 'custom';
            document.getElementById('menuDescriptionInput').value = config.description;
        }

        function updateMenuStructure() {
            const config = MENU_CONFIGS[currentMenu];
            const container = document.getElementById('menuStructure');
            container.innerHTML = '';

            config.items.forEach((item, index) => {
                container.appendChild(createMenuItem(item, false));
                if (index < config.items.length - 1) {
                    container.appendChild(createDropZone());
                }
            });
        }

        function createMenuItem(item, isChild) {
            const div = document.createElement('div');
            const baseClass = isChild ? 'menu-item bg-white manual-border ml-6 mb-2 border-l-4 border-l-gray-300' : 'menu-item bg-gray-50 manual-border';
            div.className = baseClass;
            div.draggable = true;

            const typeBadge = item.type === 'dropdown'
                ? '<span class="inline-flex items-center px-2 py-0.5 text-xs font-mono font-bold bg-purple-100 text-purple-700 manual-border">Dropdown</span>'
                : item.type === 'custom'
                ? '<span class="inline-flex items-center px-2 py-0.5 text-xs font-mono font-bold bg-green-100 text-green-700 manual-border">Custom</span>'
                : '<span class="inline-flex items-center px-2 py-0.5 text-xs font-mono font-bold bg-blue-100 text-blue-600 manual-border">Page</span>';

            const urlDisplay = item.url ? `<span class="text-xs font-mono text-gray-600">${item.url}</span>` : '';

            let expandButton = '';
            if (item.children && item.children.length > 0) {
                expandButton = `<button onclick="toggleChildren('${item.id}')" class="p-1.5 hover:bg-gray-200 text-gray-500 hover:text-blue-600" title="Expand/Collapse">
                    <span class="material-symbols-outlined text-lg" id="${item.id}Toggle">expand_more</span>
                </button>`;
            }

            const padding = isChild ? 'p-3' : 'p-4';
            const fontSize = isChild ? 'text-sm' : '';
            const iconSize = isChild ? 'text-lg' : '';

            div.innerHTML = `
                <div class="flex items-center gap-3 ${padding}">
                    <span class="material-symbols-outlined text-gray-500 cursor-grab ${iconSize}">drag_indicator</span>
                    <div class="flex-1 min-w-0">
                        <div class="flex items-center gap-2">
                            <span class="font-mono font-bold text-gray-900 ${fontSize}">${item.label}</span>
                            ${typeBadge}
                        </div>
                        ${urlDisplay}
                    </div>
                    <div class="flex items-center gap-1">
                        ${expandButton}
                        <button onclick="editMenuItem('${item.id}')" class="p-1.5 hover:bg-gray-200 text-gray-500 hover:text-blue-600" title="Edit">
                            <span class="material-symbols-outlined ${isChild ? 'text-base' : 'text-lg'}">edit</span>
                        </button>
                        <button onclick="deleteMenuItem('${item.id}')" class="p-1.5 hover:bg-gray-200 text-gray-500 hover:text-red-600" title="Delete">
                            <span class="material-symbols-outlined ${isChild ? 'text-base' : 'text-lg'}">delete</span>
                        </button>
                    </div>
                </div>
            `;

            // Add children if present
            if (item.children && item.children.length > 0) {
                const childrenContainer = document.createElement('div');
                childrenContainer.id = item.id + 'Children';
                childrenContainer.className = 'pb-2 px-2';

                item.children.forEach(child => {
                    childrenContainer.appendChild(createMenuItem(child, true));
                });

                div.appendChild(childrenContainer);
            }

            return div;
        }

        function createDropZone() {
            const div = document.createElement('div');
            div.className = 'drop-zone h-1 bg-blue-600 opacity-0';
            return div;
        }

        function updateLivePreview() {
            const container = document.getElementById('livePreviewContainer');
            const config = MENU_CONFIGS[currentMenu];

            switch(currentMenu) {
                case 'header':
                    container.innerHTML = generateHeaderPreview(config);
                    break;
                case 'footer':
                    container.innerHTML = generateFooterPreview(config);
                    break;
                case 'footer-legal':
                    container.innerHTML = generateFooterLegalPreview(config);
                    break;
                case 'mobile':
                    container.innerHTML = generateMobilePreview(config);
                    break;
                case 'products-sidebar':
                    container.innerHTML = generateSidebarPreview(config);
                    break;
                default:
                    container.innerHTML = generateHeaderPreview(config);
            }
        }

        function generateHeaderPreview(config) {
            let navLinks = '';
            config.items.forEach(item => {
                if (item.children) {
                    let dropdownItems = item.children.map(child =>
                        `<a href="#" class="block px-4 py-2 text-sm font-mono text-gray-900 hover:bg-gray-100">${child.label}</a>`
                    ).join('');
                    navLinks += `
                        <div class="relative group">
                            <button class="text-white text-sm font-mono hover:text-blue-400 flex items-center gap-1">
                                ${item.label}
                                <span class="material-symbols-outlined text-sm">expand_more</span>
                            </button>
                            <div class="absolute top-full left-0 mt-2 bg-white manual-shadow py-2 min-w-[160px] hidden group-hover:block">
                                ${dropdownItems}
                            </div>
                        </div>`;
                } else {
                    navLinks += `<a href="#" class="text-white text-sm font-mono hover:text-blue-400">${item.label}</a>`;
                }
            });

            return `
                <div class="bg-gray-900 p-4 manual-border">
                    <div class="flex items-center justify-between">
                        <div class="flex items-center gap-2">
                            <div class="w-8 h-8 bg-blue-600 flex items-center justify-center manual-border">
                                <span class="material-symbols-outlined text-white text-lg">flutter_dash</span>
                            </div>
                            <span class="text-white font-mono font-bold">Bluejay</span>
                        </div>
                        <nav class="hidden md:flex items-center gap-6">
                            ${navLinks}
                        </nav>
                        <button class="md:hidden text-white">
                            <span class="material-symbols-outlined">menu</span>
                        </button>
                    </div>
                </div>
                <p class="text-xs font-mono text-gray-500 text-center mt-3">Preview of header navigation</p>`;
        }

        function generateFooterPreview(config) {
            let links = config.items.map(item =>
                `<a href="#" class="text-gray-400 text-xs font-mono hover:text-white">${item.label}</a>`
            ).join('');

            return `
                <div class="bg-gray-900 p-6 manual-border">
                    <div class="text-center">
                        <h4 class="text-white font-mono font-bold text-sm mb-4">Quick Links</h4>
                        <div class="flex flex-wrap justify-center gap-x-6 gap-y-2">
                            ${links}
                        </div>
                    </div>
                </div>
                <p class="text-xs font-mono text-gray-500 text-center mt-3">Preview of footer links section</p>`;
        }

        function generateFooterLegalPreview(config) {
            let links = config.items.map((item, index) => {
                const separator = index < config.items.length - 1 ? '<span class="text-gray-600">|</span>' : '';
                return `<a href="#" class="text-gray-500 text-xs font-mono hover:text-white">${item.label}</a>${separator}`;
            }).join('');

            return `
                <div class="bg-gray-900 p-4 manual-border">
                    <div class="flex items-center justify-between">
                        <span class="text-gray-500 text-xs font-mono"> 2025 Bluejay Labs</span>
                        <div class="flex items-center gap-3">
                            ${links}
                        </div>
                    </div>
                </div>
                <p class="text-xs font-mono text-gray-500 text-center mt-3">Preview of footer legal links</p>`;
        }

        function generateMobilePreview(config) {
            let links = config.items.map(item =>
                `<a href="#" class="block px-4 py-3 text-white font-mono border-b border-gray-800 hover:bg-gray-800">${item.label}</a>`
            ).join('');

            return `
                <div class="bg-gray-900 manual-border max-w-xs mx-auto">
                    <div class="flex items-center justify-between p-4 border-b border-gray-800">
                        <span class="text-white font-mono font-bold">Menu</span>
                        <span class="material-symbols-outlined text-white">close</span>
                    </div>
                    <nav>
                        ${links}
                    </nav>
                </div>
                <p class="text-xs font-mono text-gray-500 text-center mt-3">Preview of mobile menu</p>`;
        }

        function generateSidebarPreview(config) {
            let links = config.items.map((item, index) => {
                const active = index === 0 ? 'bg-blue-600 text-white' : 'text-gray-700 hover:bg-gray-100';
                return `<a href="#" class="block px-4 py-2 font-mono text-sm ${active}">${item.label}</a>`;
            }).join('');

            return `
                <div class="bg-white manual-border w-48">
                    <div class="p-3 border-b-2 border-black">
                        <span class="font-mono font-bold text-sm text-gray-900">Products</span>
                    </div>
                    <nav class="py-2">
                        ${links}
                    </nav>
                </div>
                <p class="text-xs font-mono text-gray-500 text-center mt-3">Preview of sidebar navigation</p>`;
        }

        // Sidebar toggle for mobile
        function toggleSidebar() {
            const sidebar = document.getElementById('sidebar');
            const overlay = document.getElementById('sidebarOverlay');
            sidebar.classList.toggle('-translate-x-full');
            overlay.classList.toggle('hidden');
        }

        // Toggle children visibility
        function toggleChildren(itemId) {
            const children = document.getElementById(itemId + 'Children');
            const toggle = document.getElementById(itemId + 'Toggle');

            if (children.classList.contains('hidden')) {
                children.classList.remove('hidden');
                toggle.textContent = 'expand_less';
            } else {
                children.classList.add('hidden');
                toggle.textContent = 'expand_more';
            }
        }

        // Edit Menu Item Modal
        function editMenuItem(itemId) {
            document.getElementById('editModal').classList.remove('hidden');
            document.getElementById('editModal').classList.add('open');
            document.body.style.overflow = 'hidden';
            console.log('Editing item:', itemId);
        }

        function closeEditModal() {
            document.getElementById('editModal').classList.add('hidden');
            document.getElementById('editModal').classList.remove('open');
            document.body.style.overflow = '';
        }

        function saveMenuItem() {
            console.log('Saving menu item');
            closeEditModal();
            alert('Menu item saved successfully!');
        }

        // Link Type Selection
        function selectLinkType(type) {
            document.querySelectorAll('[name="linkType"]').forEach(radio => {
                const label = radio.closest('label');
                if (radio.value === type) {
                    radio.checked = true;
                    label.classList.add('bg-blue-50', 'border-blue-600');
                    label.querySelector('.material-symbols-outlined').classList.remove('text-gray-500');
                    label.querySelector('.material-symbols-outlined').classList.add('text-blue-600');
                } else {
                    label.classList.remove('bg-blue-50', 'border-blue-600');
                    label.querySelector('.material-symbols-outlined').classList.add('text-gray-500');
                    label.querySelector('.material-symbols-outlined').classList.remove('text-blue-600');
                }
            });

            document.getElementById('pageField').classList.add('hidden');
            document.getElementById('urlField').classList.add('hidden');
            document.getElementById('dropdownInfo').classList.add('hidden');

            if (type === 'page') {
                document.getElementById('pageField').classList.remove('hidden');
            } else if (type === 'custom') {
                document.getElementById('urlField').classList.remove('hidden');
            } else if (type === 'dropdown') {
                document.getElementById('dropdownInfo').classList.remove('hidden');
            }
        }

        // Delete Menu Item
        let itemToDelete = '';

        function deleteMenuItem(itemId) {
            itemToDelete = itemId;
            document.getElementById('deleteModal').classList.remove('hidden');
            document.getElementById('deleteModal').classList.add('open');
            document.body.style.overflow = 'hidden';
        }

        function closeDeleteModal() {
            document.getElementById('deleteModal').classList.add('hidden');
            document.getElementById('deleteModal').classList.remove('open');
            document.body.style.overflow = '';
            itemToDelete = '';
        }

        function confirmDeleteItem() {
            console.log('Deleting item:', itemToDelete);
            closeDeleteModal();
            alert('Menu item deleted successfully!');
        }

        // Add Menu Items
        function addPageLink() {
            const page = document.getElementById('pageSelect').value;
            if (!page) {
                alert('Please select a page');
                return;
            }
            console.log('Adding page link:', page);
            alert('Page link added successfully!');
            document.getElementById('pageSelect').value = '';
        }

        function addCustomLink() {
            const label = document.getElementById('customLabel').value;
            const url = document.getElementById('customUrl').value;
            if (!label || !url) {
                alert('Please fill in both label and URL');
                return;
            }
            console.log('Adding custom link:', { label, url });
            alert('Custom link added successfully!');
            document.getElementById('customLabel').value = '';
            document.getElementById('customUrl').value = '';
        }

        function addDropdown() {
            const label = document.getElementById('dropdownLabel').value;
            if (!label) {
                alert('Please enter a dropdown label');
                return;
            }
            console.log('Adding dropdown:', label);
            alert('Dropdown added successfully!');
            document.getElementById('dropdownLabel').value = '';
        }

        function openAddItemModal() {
            editMenuItem('new');
        }

        // Preview Modal
        function openPreview() {
            document.getElementById('previewModal').classList.remove('hidden');
            document.getElementById('previewModal').classList.add('open');
            document.body.style.overflow = 'hidden';
        }

        function closePreview() {
            document.getElementById('previewModal').classList.add('hidden');
            document.getElementById('previewModal').classList.remove('open');
            document.body.style.overflow = '';
        }

        // Save Menu
        function saveMenu() {
            console.log('Saving menu...');
            alert('Menu saved successfully!');
        }

        // Initialize on page load
        document.addEventListener('DOMContentLoaded', initializeEditor);
    </script>
</body>
</html>
