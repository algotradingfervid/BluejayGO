<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sign In - Bluejay CMS</title>

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&family=JetBrains+Mono:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" rel="stylesheet">

    <!-- Component Library -->
    <link rel="stylesheet" href="../../components/main.css">

    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="../../components/tailwind.config.js"></script>
</head>
<body class="login-page">
    <div class="min-h-screen flex flex-col items-center justify-center p-4 md:p-8">

        <!-- Login Card -->
        <div class="login-card">

            <!-- Logo -->
            <div class="login-logo">
                <div class="flex items-center gap-3">
                    <div class="w-12 h-12 bg-[var(--color-primary)] manual-border flex items-center justify-center">
                        <span class="material-symbols-outlined text-white text-2xl">memory</span>
                    </div>
                    <span class="font-display text-2xl font-extrabold uppercase text-[var(--color-text-primary)]">Bluejay</span>
                </div>
            </div>

            <!-- Title -->
            <h1 class="login-title">Welcome Back</h1>
            <p class="login-subtitle">Sign in to your account</p>

            <!-- Error Alert (hidden by default, toggle with JS) -->
            <div class="login-error hidden" id="login-error">
                Invalid email or password. Please check your credentials and try again.
            </div>

            <!-- Account Locked Alert (hidden by default) -->
            <div class="hidden manual-border bg-[rgba(251,140,0,0.1)] p-4 mb-6" id="account-locked">
                <div class="flex items-start gap-3">
                    <span class="material-symbols-outlined text-[var(--color-warning)]">lock</span>
                    <div class="font-mono text-xs text-[var(--color-warning)]">
                        <p>Account temporarily locked due to multiple failed login attempts.</p>
                        <p class="mt-1">Please try again in 15 minutes or <a href="forgot-password.html" class="underline font-bold">reset your password</a>.</p>
                    </div>
                </div>
            </div>

            <!-- Login Form -->
            <form id="login-form" class="login-form" aria-label="Sign in form" role="form">

                <!-- Email Field -->
                <div class="form-field">
                    <label for="email" class="form-label" id="email-label">Email Address</label>
                    <input
                        type="email"
                        id="email"
                        name="email"
                        class="form-input"
                        placeholder="Enter your email"
                        aria-labelledby="email-label"
                        aria-describedby="email-error"
                        aria-invalid="false"
                        aria-required="true"
                        autocomplete="email"
                        required
                    >
                    <div id="email-error" class="hidden text-[var(--color-error)] font-mono text-xs mt-1 flex items-center gap-1" role="alert" aria-live="polite">
                        <span class="material-symbols-outlined text-sm">warning</span>
                        <span>Please enter a valid email address</span>
                    </div>
                </div>

                <!-- Password Field -->
                <div class="form-field">
                    <label for="password" class="form-label" id="password-label">Password</label>
                    <div class="relative">
                        <input
                            type="password"
                            id="password"
                            name="password"
                            class="form-input pr-12"
                            placeholder="Enter your password"
                            aria-labelledby="password-label"
                            aria-describedby="password-error"
                            aria-invalid="false"
                            aria-required="true"
                            autocomplete="current-password"
                            required
                        >
                        <button
                            type="button"
                            class="absolute right-3 top-1/2 -translate-y-1/2 text-[var(--color-text-secondary)] hover:text-[var(--color-primary)]"
                            aria-label="Show password"
                            aria-pressed="false"
                            onclick="togglePassword('password', this)"
                        >
                            <span class="material-symbols-outlined">visibility</span>
                        </button>
                    </div>
                    <div id="password-error" class="hidden text-[var(--color-error)] font-mono text-xs mt-1 flex items-center gap-1" role="alert" aria-live="polite">
                        <span class="material-symbols-outlined text-sm">warning</span>
                        <span>Password is required</span>
                    </div>
                </div>

                <!-- Remember Me & Forgot Password -->
                <div class="flex items-center justify-between">
                    <label class="flex items-center gap-2 cursor-pointer">
                        <input
                            type="checkbox"
                            name="remember"
                            class="custom-checkbox"
                            aria-describedby="remember-description"
                        >
                        <span class="font-mono text-xs uppercase text-[var(--color-text-primary)]">Remember me</span>
                    </label>
                    <span id="remember-description" class="sr-only">Keep me signed in on this device</span>
                    <a href="forgot-password.html" class="login-forgot">Forgot password?</a>
                </div>

                <!-- Submit Button -->
                <button
                    type="submit"
                    class="btn btn-primary btn-block"
                    id="submit-btn"
                    aria-describedby="submit-description"
                >
                    Sign In
                </button>
                <span id="submit-description" class="sr-only">Submit login credentials</span>

            </form>

        </div>

        <!-- Footer -->
        <footer class="font-mono text-xs text-[var(--color-text-secondary)] text-center mt-8 uppercase">
            &copy; 2026 Bluejay CMS
        </footer>

    </div>

    <!-- JavaScript for interactions -->
    <script>
        // Toggle password visibility
        function togglePassword(inputId, button) {
            const input = document.getElementById(inputId);
            const icon = button.querySelector('.material-symbols-outlined');

            if (input.type === 'password') {
                input.type = 'text';
                icon.textContent = 'visibility_off';
                button.setAttribute('aria-label', 'Hide password');
                button.setAttribute('aria-pressed', 'true');
            } else {
                input.type = 'password';
                icon.textContent = 'visibility';
                button.setAttribute('aria-label', 'Show password');
                button.setAttribute('aria-pressed', 'false');
            }
        }

        // Form validation
        document.getElementById('login-form').addEventListener('submit', function(e) {
            e.preventDefault();

            const email = document.getElementById('email');
            const password = document.getElementById('password');
            const emailError = document.getElementById('email-error');
            const passwordError = document.getElementById('password-error');
            const submitBtn = document.getElementById('submit-btn');

            let isValid = true;

            // Reset errors
            email.classList.remove('error');
            password.classList.remove('error');
            emailError.classList.add('hidden');
            passwordError.classList.add('hidden');

            // Validate email
            const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            if (!email.value || !emailRegex.test(email.value)) {
                email.classList.add('error');
                emailError.classList.remove('hidden');
                email.setAttribute('aria-invalid', 'true');
                isValid = false;
            }

            // Validate password
            if (!password.value) {
                password.classList.add('error');
                passwordError.classList.remove('hidden');
                password.setAttribute('aria-invalid', 'true');
                isValid = false;
            }

            if (isValid) {
                // Show loading state
                submitBtn.classList.add('btn-loading');
                submitBtn.disabled = true;

                // Simulate API call
                setTimeout(function() {
                    submitBtn.classList.remove('btn-loading');
                    submitBtn.disabled = false;

                    // Show login error for demo
                    document.getElementById('login-error').classList.remove('hidden');
                }, 2000);
            }
        });
    </script>
</body>
</html>
