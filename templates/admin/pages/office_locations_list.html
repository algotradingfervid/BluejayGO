{{define "content"}}
<div class="flex h-screen" style="font-family: 'JetBrains Mono', monospace;">
    {{template "admin-sidebar" .}}
    <div class="flex-1 overflow-auto p-8 bg-gray-50">
        <!-- Header -->
        <div class="flex justify-between items-center mb-6">
            <div>
                <h1 class="text-2xl font-bold uppercase tracking-tight">{{.Title}}</h1>
                <p class="text-sm text-gray-600 mt-1">Manage your office locations</p>
            </div>
            <a href="/admin/contact/offices/new"
               class="bg-blue-600 text-white px-5 py-2 text-sm font-bold uppercase border-2 border-black hover:translate-x-[1px] hover:translate-y-[1px] inline-block"
               style="box-shadow: 4px 4px 0px #000;">
                + New Office
            </a>
        </div>

        {{if .Offices}}
        <div class="grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6">
            {{range .Offices}}
            <div class="bg-white border-2 border-black p-6 relative" style="box-shadow: 4px 4px 0px #000;">
                <!-- Badges -->
                <div class="flex gap-2 mb-3">
                    {{if eq .IsPrimary 1}}
                    <span class="inline-block bg-blue-300 text-black px-2 py-1 text-xs font-bold uppercase border border-black">Primary</span>
                    {{end}}
                    {{if eq .IsActive 1}}
                    <span class="inline-block bg-green-300 text-black px-2 py-1 text-xs font-bold uppercase border border-black">Active</span>
                    {{else}}
                    <span class="inline-block bg-red-200 text-black px-2 py-1 text-xs font-bold uppercase border border-black">Inactive</span>
                    {{end}}
                </div>

                <!-- Office Name -->
                <h3 class="text-lg font-bold uppercase mb-3">{{.Name}}</h3>

                <!-- Address -->
                <div class="mb-3 text-sm text-gray-700">
                    <p>{{.AddressLine1}}</p>
                    {{if .AddressLine2.Valid}}<p>{{.AddressLine2.String}}</p>{{end}}
                    <p>{{.City}}, {{.State}} {{.PostalCode}}</p>
                    <p>{{.Country}}</p>
                </div>

                <!-- Contact -->
                <div class="mb-4 space-y-1 text-sm">
                    {{if .Phone.Valid}}
                    <p><span class="font-bold uppercase text-xs text-gray-500">Phone:</span> {{.Phone.String}}</p>
                    {{end}}
                    {{if .Email.Valid}}
                    <p><span class="font-bold uppercase text-xs text-gray-500">Email:</span> <a href="mailto:{{.Email.String}}" class="hover:underline">{{.Email.String}}</a></p>
                    {{end}}
                </div>

                <!-- Sort Order -->
                <div class="text-xs text-gray-400 uppercase mb-4">Order: {{.DisplayOrder}}</div>

                <!-- Actions -->
                <div class="flex gap-3 pt-3 border-t-2 border-gray-200">
                    <a href="/admin/contact/offices/{{.ID}}/edit"
                       class="text-sm font-bold uppercase hover:underline">
                        Edit
                    </a>
                    <button hx-delete="/admin/contact/offices/{{.ID}}" hx-confirm="Delete this office location?"
                            hx-target="closest div.bg-white" hx-swap="outerHTML swap:0.3s"
                            class="text-sm font-bold uppercase text-red-600 hover:underline">
                        Delete
                    </button>
                </div>
            </div>
            {{end}}
        </div>
        {{else}}
        <div class="bg-white border-2 border-black p-12 text-center" style="box-shadow: 4px 4px 0px #000;">
            <p class="text-gray-500 uppercase text-sm font-bold mb-4">No office locations found.</p>
            <a href="/admin/contact/offices/new" class="text-blue-600 font-bold hover:underline uppercase text-sm">Create one</a>
        </div>
        {{end}}
    </div>
</div>
{{end}}
