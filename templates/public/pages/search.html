{{define "content"}}
<div class="max-w-[1200px] mx-auto px-4 py-20">
    <h1 class="font-mono font-black text-3xl uppercase mb-8">Search</h1>

    <div class="mb-12">
        <form action="/search" method="GET" class="flex gap-4">
            <input type="text" name="q" value="{{.Query}}" placeholder="Search products, articles, case studies..."
                class="flex-1 manual-border p-4 font-mono text-lg focus:outline-none focus:ring-2 focus:ring-primary"
                hx-get="/search/suggest" hx-trigger="input changed delay:300ms" hx-target="#suggestions">
            <button type="submit" class="manual-border bg-primary text-white px-8 py-4 font-mono font-bold uppercase manual-shadow btn-press">
                <span class="material-symbols-outlined">search</span>
            </button>
        </form>
        <div id="suggestions" class="relative"></div>
    </div>

    {{if .Query}}
    <div class="space-y-8">
        {{if .Results}}
        {{range .Results}}
        <div class="manual-border bg-white p-6 manual-shadow">
            <div class="inline-block bg-primary/10 text-primary px-2 py-1 text-[10px] font-bold uppercase mb-2">
                {{.Type}}
            </div>
            <h3 class="font-mono font-bold text-xl mb-2">
                <a href="{{.URL}}" class="hover:text-primary">{{.Title}}</a>
            </h3>
            {{if .Excerpt}}
            <p class="font-mono text-sm opacity-60">{{.Excerpt}}</p>
            {{end}}
        </div>
        {{end}}
        {{else}}
        <div class="text-center py-12">
            <span class="material-symbols-outlined text-6xl text-gray-300 mb-4">search_off</span>
            <p class="font-mono text-lg opacity-60">No results found for "{{.Query}}"</p>
        </div>
        {{end}}
    </div>
    {{end}}
</div>
{{end}}
