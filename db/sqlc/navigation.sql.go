// Code generated by sqlc. DO NOT EDIT.
// versions:
//   sqlc v1.30.0
// source: navigation.sql

package sqlc

import (
	"context"
	"database/sql"
)

const createNavigationItem = `-- name: CreateNavigationItem :one
INSERT INTO navigation_items (menu_id, parent_id, label, link_type, url, page_identifier, open_new_tab, is_active, sort_order)
VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING id, menu_id, parent_id, label, link_type, url, page_identifier, open_new_tab, is_active, sort_order, created_at
`

type CreateNavigationItemParams struct {
	MenuID         int64          `json:"menu_id"`
	ParentID       sql.NullInt64  `json:"parent_id"`
	Label          string         `json:"label"`
	LinkType       string         `json:"link_type"`
	Url            sql.NullString `json:"url"`
	PageIdentifier sql.NullString `json:"page_identifier"`
	OpenNewTab     sql.NullInt64  `json:"open_new_tab"`
	IsActive       sql.NullInt64  `json:"is_active"`
	SortOrder      sql.NullInt64  `json:"sort_order"`
}

func (q *Queries) CreateNavigationItem(ctx context.Context, arg CreateNavigationItemParams) (NavigationItem, error) {
	row := q.db.QueryRowContext(ctx, createNavigationItem,
		arg.MenuID,
		arg.ParentID,
		arg.Label,
		arg.LinkType,
		arg.Url,
		arg.PageIdentifier,
		arg.OpenNewTab,
		arg.IsActive,
		arg.SortOrder,
	)
	var i NavigationItem
	err := row.Scan(
		&i.ID,
		&i.MenuID,
		&i.ParentID,
		&i.Label,
		&i.LinkType,
		&i.Url,
		&i.PageIdentifier,
		&i.OpenNewTab,
		&i.IsActive,
		&i.SortOrder,
		&i.CreatedAt,
	)
	return i, err
}

const createNavigationMenu = `-- name: CreateNavigationMenu :one
INSERT INTO navigation_menus (name, location) VALUES (?, ?) RETURNING id, name, location, created_at, updated_at
`

type CreateNavigationMenuParams struct {
	Name     string `json:"name"`
	Location string `json:"location"`
}

func (q *Queries) CreateNavigationMenu(ctx context.Context, arg CreateNavigationMenuParams) (NavigationMenu, error) {
	row := q.db.QueryRowContext(ctx, createNavigationMenu, arg.Name, arg.Location)
	var i NavigationMenu
	err := row.Scan(
		&i.ID,
		&i.Name,
		&i.Location,
		&i.CreatedAt,
		&i.UpdatedAt,
	)
	return i, err
}

const deleteNavigationItem = `-- name: DeleteNavigationItem :exec
DELETE FROM navigation_items WHERE id = ?
`

func (q *Queries) DeleteNavigationItem(ctx context.Context, id int64) error {
	_, err := q.db.ExecContext(ctx, deleteNavigationItem, id)
	return err
}

const deleteNavigationItemsByMenu = `-- name: DeleteNavigationItemsByMenu :exec
DELETE FROM navigation_items WHERE menu_id = ?
`

func (q *Queries) DeleteNavigationItemsByMenu(ctx context.Context, menuID int64) error {
	_, err := q.db.ExecContext(ctx, deleteNavigationItemsByMenu, menuID)
	return err
}

const deleteNavigationMenu = `-- name: DeleteNavigationMenu :exec
DELETE FROM navigation_menus WHERE id = ?
`

func (q *Queries) DeleteNavigationMenu(ctx context.Context, id int64) error {
	_, err := q.db.ExecContext(ctx, deleteNavigationMenu, id)
	return err
}

const getNavigationItem = `-- name: GetNavigationItem :one
SELECT id, menu_id, parent_id, label, link_type, url, page_identifier, open_new_tab, is_active, sort_order, created_at FROM navigation_items WHERE id = ? LIMIT 1
`

func (q *Queries) GetNavigationItem(ctx context.Context, id int64) (NavigationItem, error) {
	row := q.db.QueryRowContext(ctx, getNavigationItem, id)
	var i NavigationItem
	err := row.Scan(
		&i.ID,
		&i.MenuID,
		&i.ParentID,
		&i.Label,
		&i.LinkType,
		&i.Url,
		&i.PageIdentifier,
		&i.OpenNewTab,
		&i.IsActive,
		&i.SortOrder,
		&i.CreatedAt,
	)
	return i, err
}

const getNavigationMenu = `-- name: GetNavigationMenu :one
SELECT id, name, location, created_at, updated_at FROM navigation_menus WHERE id = ? LIMIT 1
`

func (q *Queries) GetNavigationMenu(ctx context.Context, id int64) (NavigationMenu, error) {
	row := q.db.QueryRowContext(ctx, getNavigationMenu, id)
	var i NavigationMenu
	err := row.Scan(
		&i.ID,
		&i.Name,
		&i.Location,
		&i.CreatedAt,
		&i.UpdatedAt,
	)
	return i, err
}

const listNavigationItems = `-- name: ListNavigationItems :many
SELECT id, menu_id, parent_id, label, link_type, url, page_identifier, open_new_tab, is_active, sort_order, created_at FROM navigation_items WHERE menu_id = ? ORDER BY sort_order ASC
`

func (q *Queries) ListNavigationItems(ctx context.Context, menuID int64) ([]NavigationItem, error) {
	rows, err := q.db.QueryContext(ctx, listNavigationItems, menuID)
	if err != nil {
		return nil, err
	}
	defer rows.Close()
	items := []NavigationItem{}
	for rows.Next() {
		var i NavigationItem
		if err := rows.Scan(
			&i.ID,
			&i.MenuID,
			&i.ParentID,
			&i.Label,
			&i.LinkType,
			&i.Url,
			&i.PageIdentifier,
			&i.OpenNewTab,
			&i.IsActive,
			&i.SortOrder,
			&i.CreatedAt,
		); err != nil {
			return nil, err
		}
		items = append(items, i)
	}
	if err := rows.Close(); err != nil {
		return nil, err
	}
	if err := rows.Err(); err != nil {
		return nil, err
	}
	return items, nil
}

const listNavigationMenus = `-- name: ListNavigationMenus :many
SELECT id, name, location, created_at, updated_at FROM navigation_menus ORDER BY created_at DESC
`

func (q *Queries) ListNavigationMenus(ctx context.Context) ([]NavigationMenu, error) {
	rows, err := q.db.QueryContext(ctx, listNavigationMenus)
	if err != nil {
		return nil, err
	}
	defer rows.Close()
	items := []NavigationMenu{}
	for rows.Next() {
		var i NavigationMenu
		if err := rows.Scan(
			&i.ID,
			&i.Name,
			&i.Location,
			&i.CreatedAt,
			&i.UpdatedAt,
		); err != nil {
			return nil, err
		}
		items = append(items, i)
	}
	if err := rows.Close(); err != nil {
		return nil, err
	}
	if err := rows.Err(); err != nil {
		return nil, err
	}
	return items, nil
}

const updateNavigationItem = `-- name: UpdateNavigationItem :exec
UPDATE navigation_items
SET label = ?, link_type = ?, url = ?, page_identifier = ?, open_new_tab = ?, is_active = ?, parent_id = ?, sort_order = ?
WHERE id = ?
`

type UpdateNavigationItemParams struct {
	Label          string         `json:"label"`
	LinkType       string         `json:"link_type"`
	Url            sql.NullString `json:"url"`
	PageIdentifier sql.NullString `json:"page_identifier"`
	OpenNewTab     sql.NullInt64  `json:"open_new_tab"`
	IsActive       sql.NullInt64  `json:"is_active"`
	ParentID       sql.NullInt64  `json:"parent_id"`
	SortOrder      sql.NullInt64  `json:"sort_order"`
	ID             int64          `json:"id"`
}

func (q *Queries) UpdateNavigationItem(ctx context.Context, arg UpdateNavigationItemParams) error {
	_, err := q.db.ExecContext(ctx, updateNavigationItem,
		arg.Label,
		arg.LinkType,
		arg.Url,
		arg.PageIdentifier,
		arg.OpenNewTab,
		arg.IsActive,
		arg.ParentID,
		arg.SortOrder,
		arg.ID,
	)
	return err
}

const updateNavigationItemOrder = `-- name: UpdateNavigationItemOrder :exec
UPDATE navigation_items SET sort_order = ?, parent_id = ? WHERE id = ?
`

type UpdateNavigationItemOrderParams struct {
	SortOrder sql.NullInt64 `json:"sort_order"`
	ParentID  sql.NullInt64 `json:"parent_id"`
	ID        int64         `json:"id"`
}

func (q *Queries) UpdateNavigationItemOrder(ctx context.Context, arg UpdateNavigationItemOrderParams) error {
	_, err := q.db.ExecContext(ctx, updateNavigationItemOrder, arg.SortOrder, arg.ParentID, arg.ID)
	return err
}

const updateNavigationMenu = `-- name: UpdateNavigationMenu :exec
UPDATE navigation_menus SET name = ?, location = ?, updated_at = CURRENT_TIMESTAMP WHERE id = ?
`

type UpdateNavigationMenuParams struct {
	Name     string `json:"name"`
	Location string `json:"location"`
	ID       int64  `json:"id"`
}

func (q *Queries) UpdateNavigationMenu(ctx context.Context, arg UpdateNavigationMenuParams) error {
	_, err := q.db.ExecContext(ctx, updateNavigationMenu, arg.Name, arg.Location, arg.ID)
	return err
}
